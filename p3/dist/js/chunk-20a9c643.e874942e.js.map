{"version":3,"sources":["webpack:///./src/components/AccountPage.vue?d12c","webpack:///src/components/AccountPage.vue","webpack:///./src/components/AccountPage.vue?0f93","webpack:///./src/components/AccountPage.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","user","name","favorites","length","_e","_l","favorite","key","on","logout","directives","rawName","value","data","expression","domProps","$event","validate","target","composing","$set","login","error","index","toString","staticRenderFns","email","password","errors","computed","$store","state","recipes","methods","validator","all","passes","loadFavorites","response","authenticated","success","watch","mounted","component","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-20a9c643.e874942e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"account-page\"}},[_c('router-link',{attrs:{\"data-test\":\"test-home-link\",\"id\":\"home\",\"to\":'/'}},[_vm._v(\"Home Page\")]),_c('router-link',{attrs:{\"data-test\":\"test-add-recipe-link\",\"id\":\"add\",\"to\":'/add'}},[_vm._v(\"Add Recipe\")]),(_vm.user)?_c('div',{attrs:{\"id\":\"user-account\"}},[_c('h2',{attrs:{\"data-test\":\"test-welcome-message\",\"id\":\"account-name\"}},[_vm._v(\" Hi, \"+_vm._s(_vm.user.name)+\"! \")]),_c('div',{attrs:{\"id\":\"favorites\"}},[_c('strong',{attrs:{\"id\":\"your-favorites\"}},[_vm._v(\"Your Favorites\")]),(_vm.favorites && _vm.favorites.length == 0)?_c('p',{attrs:{\"id\":\"no-favorites\"}},[_vm._v(\" No favorites yet. \")]):_vm._e(),_vm._l((_vm.favorites),function(favorite,key){return _c('li',{key:key,attrs:{\"id\":\"favorites\",\"data-test\":\"test-favorites\"}},[_vm._v(\" \"+_vm._s(favorite.name)+\" \")])})],2),_c('button',{attrs:{\"id\":\"logout-button\",\"data-test\":\"test-logout-button\"},on:{\"click\":_vm.logout}},[_vm._v(\" Logout \")])]):_c('div',{attrs:{\"id\":\"loginForm\"}},[_c('h2',{attrs:{\"id\":\"login-title\"}},[_vm._v(\"Login\")]),_c('div',[_c('label',[_vm._v(\"Email: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.email),expression:\"data.email\"}],attrs:{\"type\":\"text\",\"data-test\":\"test-email-input\"},domProps:{\"value\":(_vm.data.email)},on:{\"blur\":function($event){return _vm.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"email\", $event.target.value)}}})])]),_c('div',[_c('label',[_vm._v(\"Password: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.password),expression:\"data.password\"}],attrs:{\"type\":\"password\",\"data-test\":\"test-password-input\"},domProps:{\"value\":(_vm.data.password)},on:{\"blur\":function($event){return _vm.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"password\", $event.target.value)}}})])]),_c('button',{attrs:{\"data-test\":\"test-login-button\"},on:{\"click\":_vm.login}},[_vm._v(\"Login\")]),_c('br'),(_vm.errors)?_c('ul',{attrs:{\"id\":\"account-errors\"}},_vm._l((_vm.errors),function(error,index){return _c('li',{key:index},[_vm._v(\" \"+_vm._s(error.toString())+\" \")])}),0):_vm._e(),_c('router-link',{attrs:{\"id\":\"register-link\",\"to\":'/register'}},[_vm._v(\"No Account? Register Now!\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"account-page\">\n    <router-link data-test=\"test-home-link\" id=\"home\" :to=\"'/'\"\n      >Home Page</router-link\n    >\n    <router-link data-test=\"test-add-recipe-link\" id=\"add\" :to=\"'/add'\"\n      >Add Recipe</router-link\n    >\n    <div id=\"user-account\" v-if=\"user\">\n      <h2 data-test=\"test-welcome-message\" id=\"account-name\">\n        Hi, {{ user.name }}!\n      </h2>\n      <div id=\"favorites\">\n        <strong id=\"your-favorites\">Your Favorites</strong>\n        <p id=\"no-favorites\" v-if=\"favorites && favorites.length == 0\">\n          No favorites yet.\n        </p>\n        <li\n          id=\"favorites\"\n          data-test=\"test-favorites\"\n          v-for=\"(favorite, key) in favorites\"\n          v-bind:key=\"key\"\n        >\n          {{ favorite.name }}\n        </li>\n      </div>\n\n      <button id=\"logout-button\" data-test=\"test-logout-button\" @click=\"logout\">\n        Logout\n      </button>\n    </div>\n\n    <div v-else id=\"loginForm\">\n      <h2 id=\"login-title\">Login</h2>\n      <div>\n        <label\n          >Email:\n          <input\n            type=\"text\"\n            data-test=\"test-email-input\"\n            v-model=\"data.email\"\n            v-on:blur=\"validate()\"\n        /></label>\n      </div>\n      <div>\n        <label\n          >Password:\n          <input\n            type=\"password\"\n            data-test=\"test-password-input\"\n            v-model=\"data.password\"\n            v-on:blur=\"validate()\"\n        /></label>\n      </div>\n\n      <button @click=\"login\" data-test=\"test-login-button\">Login</button>\n      <br />\n      <ul id=\"account-errors\" v-if=\"errors\">\n        <li v-for=\"(error, index) in errors\" :key=\"index\">\n          {{ error.toString() }}\n        </li>\n      </ul>\n      <router-link id=\"register-link\" :to=\"'/register'\"\n        >No Account? Register Now!</router-link\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/app.js\";\nimport Validator from \"validatorjs\";\n\nexport default {\n  data() {\n    return {\n      data: {\n        email: null,\n        password: null,\n      },\n      errors: null,\n      favorites: [],\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n    recipes() {\n      return this.$store.state.recipes;\n    },\n  },\n  methods: {\n    validate() {\n      let validator = new Validator(this.data, {\n        email: \"required\",\n        password: \"required\",\n      });\n\n      this.errors = validator.errors.all();\n\n      return validator.passes();\n    },\n    loadFavorites() {\n      if (this.user) {\n        // Because favorite is a auth-protected resource, this will\n        // only return favorites belonging to the authenticated user\n        axios.get(\"favorite\").then((response) => {\n          this.favorites = response.data.favorite.map((favorite) => {\n            return this.$store.getters.getRecipeById(favorite.recipe_id);\n          });\n        });\n      }\n    },\n    login() {\n      axios.post(\"login\", this.data).then((response) => {\n        if (response.data.authenticated) {\n          this.$store.commit(\"setUser\", response.data.user);\n        } else {\n          this.errors = response.data.errors;\n        }\n      });\n    },\n    logout() {\n      axios.post(\"logout\").then((response) => {\n        if (response.data.success) {\n          this.$store.commit(\"setUser\", null);\n        }\n      });\n    },\n  },\n  watch: {\n    // When user changes, update favorites\n    user() {\n      this.loadFavorites();\n    },\n  },\n  mounted() {\n    this.loadFavorites();\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountPage.vue?vue&type=template&id=46841c86&\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}