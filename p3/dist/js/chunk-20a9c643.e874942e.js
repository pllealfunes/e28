(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20a9c643"],{"359d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"account-page"}},[a("router-link",{attrs:{"data-test":"test-home-link",id:"home",to:"/"}},[t._v("Home Page")]),a("router-link",{attrs:{"data-test":"test-add-recipe-link",id:"add",to:"/add"}},[t._v("Add Recipe")]),t.user?a("div",{attrs:{id:"user-account"}},[a("h2",{attrs:{"data-test":"test-welcome-message",id:"account-name"}},[t._v(" Hi, "+t._s(t.user.name)+"! ")]),a("div",{attrs:{id:"favorites"}},[a("strong",{attrs:{id:"your-favorites"}},[t._v("Your Favorites")]),t.favorites&&0==t.favorites.length?a("p",{attrs:{id:"no-favorites"}},[t._v(" No favorites yet. ")]):t._e(),t._l(t.favorites,(function(e,r){return a("li",{key:r,attrs:{id:"favorites","data-test":"test-favorites"}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("button",{attrs:{id:"logout-button","data-test":"test-logout-button"},on:{click:t.logout}},[t._v(" Logout ")])]):a("div",{attrs:{id:"loginForm"}},[a("h2",{attrs:{id:"login-title"}},[t._v("Login")]),a("div",[a("label",[t._v("Email: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"test-email-input"},domProps:{value:t.data.email},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}})])]),a("div",[a("label",[t._v("Password: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"test-password-input"},domProps:{value:t.data.password},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})])]),a("button",{attrs:{"data-test":"test-login-button"},on:{click:t.login}},[t._v("Login")]),a("br"),t.errors?a("ul",{attrs:{id:"account-errors"}},t._l(t.errors,(function(e,r){return a("li",{key:r},[t._v(" "+t._s(e.toString())+" ")])})),0):t._e(),a("router-link",{attrs:{id:"register-link",to:"/register"}},[t._v("No Account? Register Now!")])],1)],1)},o=[],s=(a("d81d"),a("1112")),i=a("1c4a"),n=a.n(i),d={data:function(){return{data:{email:null,password:null},errors:null,favorites:[]}},computed:{user:function(){return this.$store.state.user},recipes:function(){return this.$store.state.recipes}},methods:{validate:function(){var t=new n.a(this.data,{email:"required",password:"required"});return this.errors=t.errors.all(),t.passes()},loadFavorites:function(){var t=this;this.user&&s["a"].get("favorite").then((function(e){t.favorites=e.data.favorite.map((function(e){return t.$store.getters.getRecipeById(e.recipe_id)}))}))},login:function(){var t=this;s["a"].post("login",this.data).then((function(e){e.data.authenticated?t.$store.commit("setUser",e.data.user):t.errors=e.data.errors}))},logout:function(){var t=this;s["a"].post("logout").then((function(e){e.data.success&&t.$store.commit("setUser",null)}))}},watch:{user:function(){this.loadFavorites()}},mounted:function(){this.loadFavorites()}},u=d,l=a("2877"),c=Object(l["a"])(u,r,o,!1,null,null,null);e["default"]=c.exports},d81d:function(t,e,a){"use strict";var r=a("23e7"),o=a("b727").map,s=a("1dde"),i=a("ae40"),n=s("map"),d=i("map");r({target:"Array",proto:!0,forced:!n||!d},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-20a9c643.e874942e.js.map